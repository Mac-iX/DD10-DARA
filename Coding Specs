# ‚úÖ CODING SPEC FOR CODEX ‚Äî Deep Diligent Agent (DARA & DD10)

This spec tells Codex what to build, how to behave, and what files to use.

---

## üîπ PROJECT NAME

Deep Diligent Agent (DARA & DD10)

---

## üîπ PURPOSE

Create a modular AI research toolkit for high-level professional use. It must support two main operational modes:

- **DARA Mode** = Deep Audience Research Agent
- **DD10 Mode** = Deep Due Diligence Agent (10+ modules from DeepSpec)

Each mode leverages advanced prompt engineering techniques for generating:

- Market intelligence
- Persona simulation
- Audience segmentation
- Strategic business research
- Executive-grade insight generation

---

## üîπ FILE STRUCTURE (REPO ORIENTED)

Codex should **reference these files** as source material and functional instructions:

```plaintext
/docs
 ‚îú‚îÄ DARA.md                       # DARA modules and prompt templates
 ‚îú‚îÄ DeepSpec_Prompt_Library.md     # 11 modular prompt specs (DD10 system)
 ‚îú‚îÄ MasterLevel_DeepSpecFramework_Explained.md # Philosophy and rules
 ‚îî‚îÄ codex_instructions.md          # This spec

/core
 ‚îú‚îÄ agent_router.js               # Logic for choosing DARA vs DD10 based on user input
 ‚îú‚îÄ prompt_engine.js              # Reads prompt specs and assembles the prompt chain
 ‚îú‚îÄ executor.js                   # Sends prompt chain to OpenAI API (GPT-4 or Manus/Grok)
 ‚îî‚îÄ responses_parser.js           # Parses and formats output into markdown/json

/interface
 ‚îú‚îÄ ui_terminal.js                # Simple CLI/terminal interface
 ‚îî‚îÄ ui_web                         # Optional Vercel web interface (TBD)

/tests
 ‚îî‚îÄ agent_test_cases.md           # Example prompts + expected outputs for QA
```

---

## üîπ OBJECTIVE FOR CODEX

Build an **AI-powered CLI (or lightweight web app)** that:

1. Accepts a topic, region, or research question.
2. Selects the correct operational mode (DARA or DD10).
3. Executes the correct prompt chain from the `.md` files.
4. Parses the output for clear readability.
5. Logs all sessions for auditing, review, or reuse.
6. Enables easy model switching between GPT, Grok, Manus AI.

---

## üîπ INSTRUCTIONS TO CODEX (Behavioral Guide)

```plaintext
INSTRUCTION SET FOR CODEX:

1. Load the files `DARA.md`, `DeepSpec_Prompt_Library.md`, and `MasterLevel_DeepSpecFramework_Explained.md` as documentation source and operational spec.

2. Build a modular system with two main agents:
   - DARA: Follows the 5-module linear prompt chain.
   - DD10: Uses any of the 11 DeepSpec modules, modular or full-chain.

3. Create a user interface with input options:
   - "Run DARA Mode" (requires Topic + Region)
   - "Run DD10 Mode" (requires Topic + Type of Research)
   - "Custom Mode" (mix & match modules via checkboxes or CLI flags)

4. Prompt Chain Engine:
   - Based on user input, construct the full prompt using Markdown templates.
   - Append system and user prompts according to module definitions.
   - Parse results and optionally convert them to `.md`, `.json`, or `.pdf`.

5. Output Renderer:
   - Format the results using markdown headings and clean indentation.
   - Support copy-to-clipboard for easy integration into reports or dashboards.

6. Model Router:
   - Default to OpenAI GPT-4.
   - Allow switching to Grok or Manus AI (via API config or CLI flag).
   - Include fallback or retry mechanism if an API call fails.

7. Bonus: Logging System
   - Save each session's inputs, outputs, and settings into a `/logs` folder.
   - Include timestamps, model used, and mode selected.

```

---

## üîπ MODULES TO BUILD (as part of the Codex system)

### DARA Mode

- Module 1: Foundational Research (Grok)
- Module 2: Audience Segmentation
- Module 3: Persona Generation
- Module 4: Simulated Inquiry (Meta)
- Module 5: Strategic Synthesis

### DD10 Mode (Deep Spec Modules)

- Deep Reasoning
- Deep Interpretation
- Deep Intelligence
- Deep Storytelling
- Deep Quality Review
- Deep Looping
- Deep Signal Detection
- Deep Synthesis
- Deep Structure
- Deep Aesthetics
- Base System Spec (modular initializer) ‚Üê critical!

Each module should be **importable individually** as a class or function, with prompt templates stored in memory or `.md` format for easy future edits.

---

## üß† PERSONALITY AND BRAND VOICE: "Deep Diligent Agent"

Use the **Apex Agent personality profile** as the tone guide:

- Calm, wise, yet sharp
- High executive EQ
- Inspired by luxury branding, deep psychology, and meaning-driven success
- Feels like a cross between a McKinsey advisor, a Stanford design researcher, and a thoughtful philosopher

---

## üîß NEXT STEPS

1. ‚úÖ Add all `.md` prompt files to `/docs` in your repo.
2. ‚úÖ Add a `codex_instructions.md` file and paste the above spec.
3. üîú Ask Codex to start with `/core/agent_router.js` and create logic for switching modes.
4. üîú After router logic is done, build `/core/prompt_engine.js` to combine the prompt modules.
5. üîú Create a CLI tool under `/interface/ui_terminal.js` to test your agent.
6. üîú Write test cases for DARA and DD10 in `/tests/agent_test_cases.md`.
